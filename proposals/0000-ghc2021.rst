GHC 2021
========

.. author:: Joachim Breitner
.. date-accepted:: 
.. ticket-url:: 
.. implemented::
.. highlight:: haskell
.. header:: This proposal is `discussed at this pull request <https://github.com/ghc-proposals/ghc-proposals/pull/380>`_.
.. contents::

This this the PR accompanying the process to define the ``GHC2021`` language set, as outlined in https://github.com/ghc-proposals/ghc-proposals/blob/master/proposals/0372-ghc-extensions.rst.

Proposed Change
---------------

The ``GHC2021`` language extension set comprises of the following language extensions:

* Everything in ``Haskell2010``, plus
* TBD 

Data
----

The following table contains the information that was gathered to help the committee decide, based on an analysis of hackage and a community poll, as well as the tallied votes. At a committe size of 11, **8** votes are necessary to include an extension in ``GHC2021``:

The columns are:

* Since: First version that ships this extension

  Some Extension may have had serious changes since then.

* Proliferation:   #(packages using that extensions)/#(packages parsed)
 
* Innocuousness:  #(packages enable it in .cabal)/#(packages using default-extensions)

  A high number here indicates that many developers want this on by default in their project, across all modules.

* Aloofness: #(packages using this, but _only_ in modules, despite using  default-extensions) /#(packages using default-extensions)

  A high number here indicates that, although a developer was in
  principle happy with putting extensions into the default-extensions
  field, they did not include this particular one. I take this as an
  indication that this extension does _not_ make a great on-by-default
  extension. (Matching my expectation, TemplateHaskell and CPP make
  the highest here)

* Popularity: #(users who want this)/#(users who filled out the poll)

* Contentionsness: #(users who donâ€™t want this)/#(users who want this)

The raw data (input and aggregated) is found at https://github.com/nomeata/ghc-proposals-stats/blob/master/ext-stats/GHC2021 and the steps to produce them are noted in https://github.com/nomeata/ghc-proposals-stats/blob/master/ext-stats/README.md.

Caveats: 

* The hackage data is based on the the latest version of each hackage package. This skews heavily towards libraries, which are more likely to be found on Hackage than executable. It also puts higher weight on projects that are split into many haskell packages (e.g. amazonka).
 
* The poll data has no serious protection aginst double voting, and skews heavily towards the part of the communit that is reached by the poll announcemnt.

========================== ============ ============= ============= ========= ========== =============== =====
                 Extension        Since Proliferation Innocuousness Aloofness Popularity Contentionsness Votes
========================== ============ ============= ============= ========= ========== =============== =====
       AllowAmbiguousTypes        7.8.1            3%            3%        4%        N/A             N/A   N/A
             ApplicativeDo        8.0.1            1%            2%        1%        N/A             N/A   N/A
                    Arrows        6.8.1            2%            9%        0%        N/A             N/A   N/A
              BangPatterns        6.8.1           13%           22%        7%        N/A             N/A   N/A
            BinaryLiterals       7.10.1            1%            3%         0        N/A             N/A   N/A
            BlockArguments        8.6.1            0%            2%        0%        N/A             N/A   N/A
                   CApiFFI       7.10.1            0%            0%        0%        N/A             N/A   N/A
                       CPP        6.8.1           23%           10%       20%        N/A             N/A   N/A
                     CUSKs       8.10.1            0%             0        0%        N/A             N/A   N/A
   ConstrainedClassMethods        6.8.1            0%            0%        0%        N/A             N/A   N/A
           ConstraintKinds        7.4.1            9%           27%        7%        N/A             N/A   N/A
                 DataKinds        7.4.1           13%           28%        8%        N/A             N/A   N/A
          DatatypeContexts        7.0.1             0             0         0        N/A             N/A   N/A
         DefaultSignatures        7.2.1            6%           19%        4%        N/A             N/A   N/A
            DeriveAnyClass       7.10.1            3%            2%        5%        N/A             N/A   N/A
        DeriveDataTypeable        6.8.1           19%           23%        8%        N/A             N/A   N/A
            DeriveFoldable       7.10.1            5%           19%        2%        N/A             N/A   N/A
             DeriveFunctor       7.10.1            9%           25%        6%        N/A             N/A   N/A
             DeriveGeneric        7.2.1           17%           29%       12%        N/A             N/A   N/A
                DeriveLift        8.0.1            1%            2%        0%        N/A             N/A   N/A
         DeriveTraversable       7.10.1            5%           19%        3%        N/A             N/A   N/A
        DerivingStrategies        8.2.1            1%            3%        1%        N/A             N/A   N/A
               DerivingVia        8.6.1            0%            1%        1%        N/A             N/A   N/A
  DisambiguateRecordFields        6.8.1            0%            1%        0%        N/A             N/A   N/A
     DuplicateRecordFields        8.0.1            1%            4%        2%        N/A             N/A   N/A
                 EmptyCase        7.8.1            1%            5%        1%        N/A             N/A   N/A
            EmptyDataDecls        6.8.1             0           14%         0        N/A             N/A   N/A
         EmptyDataDeriving        8.4.1            0%             0        0%        N/A             N/A   N/A
 ExistentialQuantification        6.8.1            7%            7%        6%        N/A             N/A   N/A
            ExplicitForAll       6.12.1            1%            1%        1%        N/A             N/A   N/A
        ExplicitNamespaces        7.6.1            1%            0%        1%        N/A             N/A   N/A
      ExtendedDefaultRules        6.8.1            1%            0%        1%        N/A             N/A   N/A
          FlexibleContexts        6.8.1           29%           45%       14%        N/A             N/A   N/A
         FlexibleInstances        6.8.1           33%           46%       16%        N/A             N/A   N/A
  ForeignFunctionInterface        6.8.1             0            4%         0        N/A             N/A   N/A
    FunctionalDependencies        6.8.1            9%           22%        6%        N/A             N/A   N/A
                GADTSyntax        7.2.1            0%            0%         0        N/A             N/A   N/A
                     GADTs        6.8.1           13%           25%        8%        N/A             N/A   N/A
      GHCForeignImportPrim       6.12.1            0%             0        0%        N/A             N/A   N/A
GeneralisedNewtypeDeriving        6.8.1           19%           31%       14%        N/A             N/A   N/A
          HexFloatLiterals        8.4.1            0%             0         0        N/A             N/A   N/A
            ImplicitParams        6.8.1            1%            1%        1%        N/A             N/A   N/A
       ImportQualifiedPost       8.10.1             0             0         0        N/A             N/A   N/A
        ImpredicativeTypes       6.10.1            1%            1%        1%        N/A             N/A   N/A
       IncoherentInstances        6.8.1            1%            0%        1%        N/A             N/A   N/A
              InstanceSigs        7.6.1            3%           11%        2%        N/A             N/A   N/A
          InterruptibleFFI        7.2.1            0%             0        0%        N/A             N/A   N/A
            KindSignatures        6.8.1            7%           12%        4%        N/A             N/A   N/A
                LambdaCase        7.6.1           14%           34%        5%        N/A             N/A   N/A
           LexicalNegation        9.0.1             0             0         0        N/A             N/A   N/A
       LiberalTypeSynonyms        6.8.1            1%            9%        0%        N/A             N/A   N/A
               LinearTypes        9.0.1             0             0         0        N/A             N/A   N/A
                 MagicHash        6.8.1            4%            9%        2%        N/A             N/A   N/A
       MonadComprehensions        7.2.1            0%            3%        0%        N/A             N/A   N/A
       MonadFailDesugaring        8.0.1            0%            2%         0        N/A             N/A   N/A
            MonoLocalBinds       6.12.1            1%            1%        1%        N/A             N/A   N/A
     MultiParamTypeClasses        6.8.1           23%           37%       11%        N/A             N/A   N/A
                MultiWayIf        7.6.1            4%           17%        2%        N/A             N/A   N/A
            NPlusKPatterns       6.12.1             0             0         0        N/A             N/A   N/A
            NamedFieldPuns       6.10.1            5%           10%        3%        N/A             N/A   N/A
            NamedWildCards       7.10.1            0%            1%         0        N/A             N/A   N/A
          NegativeLiterals        7.8.1            0%            2%        0%        N/A             N/A   N/A
         NoImplicitPrelude        6.8.1            8%           30%        2%        N/A             N/A   N/A
 NoMonomorphismRestriction        6.8.1            4%           11%        3%        N/A             N/A   N/A
           NoPatternGuards        6.8.1             0             0         0        N/A             N/A   N/A
 NoTraditionalRecordSyntax        7.4.1             0             0         0        N/A             N/A   N/A
  NondecreasingIndentation            ?            0%            1%        0%        N/A             N/A   N/A
        NullaryTypeClasses        7.8.1            0%             0         0        N/A             N/A   N/A
               NumDecimals        7.8.1            0%            1%        0%        N/A             N/A   N/A
        NumericUnderscores        8.6.1            0%            0%        0%        N/A             N/A   N/A
      OverlappingInstances            ?            2%            0%        2%        N/A             N/A   N/A
          OverloadedLabels        8.0.1            1%            2%        0%        N/A             N/A   N/A
           OverloadedLists        7.8.1            1%            1%        2%        N/A             N/A   N/A
         OverloadedStrings        6.8.1           37%           53%       12%        N/A             N/A   N/A
            PackageImports       6.10.1            2%            3%        1%        N/A             N/A   N/A
          ParallelListComp        6.8.1            1%            9%        0%        N/A             N/A   N/A
     PartialTypeSignatures       7.10.1            1%            6%        1%        N/A             N/A   N/A
           PatternSynonyms        7.8.1            3%            6%        4%        N/A             N/A   N/A
                 PolyKinds        7.4.1            5%           11%        4%        N/A             N/A   N/A
          PostfixOperators       7.10.1            0%            0%        0%        N/A             N/A   N/A
               QualifiedDo        9.0.1             0             0         0        N/A             N/A   N/A
     QuantifiedConstraints        8.6.1            0%            1%        1%        N/A             N/A   N/A
               QuasiQuotes       6.10.1            7%           14%        7%        N/A             N/A   N/A
                RankNTypes        6.8.1           21%           31%       12%        N/A             N/A   N/A
          RebindableSyntax        7.0.1            1%            1%        1%        N/A             N/A   N/A
           RecordWildCards        6.8.1           17%           28%        9%        N/A             N/A   N/A
               RecursiveDo        6.8.1            1%            2%        1%        N/A             N/A   N/A
           RoleAnnotations        7.8.1            1%            1%        1%        N/A             N/A   N/A
                      Safe        7.2.1             0             0         0        N/A             N/A   N/A
       ScopedTypeVariables        6.8.1           29%           41%       14%        N/A             N/A   N/A
        StandaloneDeriving        6.8.1           10%           26%        6%        N/A             N/A   N/A
  StandaloneKindSignatures       8.10.1            0%             0        0%        N/A             N/A   N/A
                StarIsType        8.6.1             0            0%         0        N/A             N/A   N/A
            StaticPointers       7.10.1            0%             0        0%        N/A             N/A   N/A
                    Strict        8.0.1            0%            1%        0%        N/A             N/A   N/A
                StrictData        8.0.1            1%            3%        1%        N/A             N/A   N/A
           TemplateHaskell          6.0           18%           19%       17%        N/A             N/A   N/A
     TemplateHaskellQuotes        8.0.1            0%            0%        0%        N/A             N/A   N/A
         TransformListComp       6.10.1            0%             0         0        N/A             N/A   N/A
               Trustworthy        7.2.1             0             0         0        N/A             N/A   N/A
             TupleSections         6.12           10%           27%        7%        N/A             N/A   N/A
          TypeApplications        8.0.1            6%           14%        5%        N/A             N/A   N/A
              TypeFamilies        6.8.1           23%           33%       11%        N/A             N/A   N/A
    TypeFamilyDependencies        8.0.1            1%            2%        1%        N/A             N/A   N/A
                TypeInType        8.0.1            1%            1%        1%        N/A             N/A   N/A
             TypeOperators        6.8.1           14%           28%        6%        N/A             N/A   N/A
      TypeSynonymInstances        6.8.1           10%            8%        7%        N/A             N/A   N/A
               UnboxedSums        8.2.1            0%             0        0%        N/A             N/A   N/A
             UnboxedTuples        6.8.1            3%            8%        1%        N/A             N/A   N/A
      UndecidableInstances            ?           14%            7%       16%        N/A             N/A   N/A
   UndecidableSuperClasses        8.0.1            1%            0%        1%        N/A             N/A   N/A
             UnicodeSyntax        6.8.1            2%            7%        0%        N/A             N/A   N/A
          UnliftedFFITypes        6.8.1            0%            0%        0%        N/A             N/A   N/A
          UnliftedNewtypes       8.10.1            0%             0         0        N/A             N/A   N/A
                    Unsafe        7.4.1             0             0         0        N/A             N/A   N/A
              ViewPatterns       6.10.1            7%           10%        6%        N/A             N/A   N/A
========================== ============ ============= ============= ========= ========== =============== =====
